{"version":3,"sources":["contentstack/index.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["CONFIG","FALLBACK_DEFAULT","SPANISH","contentstack","Region","EU","App","useState","data","error","loading","entries","setEntries","page","setPage","refetchData","locale","content_type","fetch","headers","api_key","access_token","then","results","json","console","log","catch","refetchPage","useEffect","Helmet","title","name","content","tags","join","className","onClick","modular_blocks","map","block","welcome_banner","variant","single_line","subheading","length","d","src","file","url","animal_description","height","weight","Date","animal_birth_date","toLocaleDateString","animal_location","has_discount","updated_at","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c05233a1.chunk.js","sourcesContent":["import contentstack from \"contentstack\";\r\n\r\nexport const CONFIG = {\r\n  API_KEY: \"blt5fb46dfbc59c25f3\",\r\n  DELIVERY_TOKEN: \"cs5393e87306d4835587b441d0\",\r\n  ENVIRONMENT: \"publish\",\r\n  LOCALES: {\r\n    FALLBACK_DEFAULT: \"en-au\",\r\n    SPANISH: \"es\",\r\n  },\r\n  REGION: contentstack.Region.EU,\r\n};\r\n","import React, { useEffect, useState } from \"react\";\nimport { CONFIG } from \"./contentstack\";\nimport \"./App.css\";\nimport { Helmet } from \"react-helmet\";\nimport { config } from \"process\";\n\nfunction App() {\n  // animal cards\n  const [entries, setEntries] = useState<{\n    data: null | {\n      entries: any[];\n    };\n    error: boolean;\n    loading: boolean;\n  }>({\n    data: null,\n    error: false,\n    loading: false,\n  });\n\n  // page data\n  const [page, setPage] = useState<{\n    data: null | {\n      entries: any[];\n    };\n    error: boolean;\n    loading: boolean;\n  }>({\n    data: null,\n    error: false,\n    loading: false,\n  });\n\n  const refetchData = (locale: string, content_type: string) => {\n    setEntries({ ...entries, loading: true });\n    fetch(\n      `https://eu-cdn.contentstack.com/v3/content_types/${content_type}/entries?environment=${CONFIG.ENVIRONMENT}&include_fallback=true&locale=${locale}`,\n      {\n        headers: {\n          api_key: CONFIG.API_KEY,\n          access_token: CONFIG.DELIVERY_TOKEN,\n        },\n      }\n    )\n      .then((results) => results.json())\n      .then((json) => {\n        console.log(json);\n        setEntries({ ...entries, data: json, loading: false });\n      })\n      .catch((error) => {\n        console.error(error);\n        setEntries({ ...entries, error: true, loading: false });\n      });\n  };\n\n  const refetchPage = (locale: string) => {\n    setEntries({ ...entries, loading: true });\n    fetch(\n      `https://eu-cdn.contentstack.com/v3/content_types/daniels_zoo_page/entries?environment=${CONFIG.ENVIRONMENT}&include_fallback=true&locale=${locale}`,\n      {\n        headers: {\n          api_key: CONFIG.API_KEY,\n          access_token: CONFIG.DELIVERY_TOKEN,\n        },\n      }\n    )\n      .then((results) => results.json())\n      .then((json) => {\n        console.log(json);\n        setPage({ ...entries, data: json, loading: false });\n      })\n      .catch((error) => {\n        console.error(error);\n        setPage({ ...entries, error: true, loading: false });\n      });\n  };\n\n  useEffect(() => {\n    refetchData(CONFIG.LOCALES.FALLBACK_DEFAULT, \"daniels_zoo_animal\");\n    refetchPage(CONFIG.LOCALES.FALLBACK_DEFAULT);\n  }, []);\n\n  const { data, error, loading } = entries;\n  return (\n    <>\n      {page.data && (\n        <Helmet>\n          <title>{page.data.entries[0].title}</title>\n          <meta\n            name=\"keywords\"\n            content={page.data.entries[0].tags.join(\",\")}\n          ></meta>\n        </Helmet>\n      )}\n\n      <div className=\"container\">\n        <button\n          onClick={() => {\n            refetchData(CONFIG.LOCALES.FALLBACK_DEFAULT, \"daniels_zoo_animal\");\n            refetchPage(CONFIG.LOCALES.FALLBACK_DEFAULT);\n          }}\n        >\n          English\n        </button>\n        <button\n          onClick={() => {\n            refetchData(CONFIG.LOCALES.SPANISH, \"daniels_zoo_animal\");\n            refetchPage(CONFIG.LOCALES.SPANISH);\n          }}\n        >\n          Espanol\n        </button>\n        {page.data && <h1>{page.data.entries[0].title}</h1>}\n\n        {page?.data?.entries[0]?.modular_blocks &&\n          page.data.entries[0].modular_blocks.map(\n            (block: {\n              welcome_banner: {\n                single_line: string;\n                subheading: string;\n                variant: string;\n                _metadata: { uid: string };\n              };\n            }) => (\n              <div\n                className={`welcome-banner welcome-banner--${block.welcome_banner.variant}`}\n              >\n                <h3>{block.welcome_banner.single_line}</h3>\n                <p>{block.welcome_banner.subheading}</p>\n              </div>\n            )\n          )}\n\n        <h2>Our animals</h2>\n\n        <p>View a list of animals we currently house at our Zoo.</p>\n        {error ? (\n          <p>We have encountered an error please try again later.</p>\n        ) : loading ? (\n          <p>Loading please wait...</p>\n        ) : data ? (\n          <div>\n            <p>\n              Found <strong>{data.entries.length}</strong> results.\n            </p>\n            {data.entries.map((d: any) => (\n              <div className=\"zoo-card\">\n                <img\n                  src={d.file.url + \"?width=800\"}\n                  className=\"zoo-card__image\"\n                ></img>\n                <div className=\"zoo-card__content\">\n                  <h3>{d.title}</h3>\n                  <p>{d.animal_description}</p>\n                  <p>\n                    <strong>Height (cm):</strong> {d.height}.{\" \"}\n                    <strong>Weight (grams):</strong> {d.weight}.\n                  </p>\n                  <p>\n                    <strong>Birth date:</strong>{\" \"}\n                    {new Date(d.animal_birth_date).toLocaleDateString()}\n                  </p>\n                  <p>\n                    <strong>Location:</strong> {d.animal_location[0]}\n                  </p>\n                  {d.has_discount && (\n                    <p className=\"text--sale\">\n                      We are currently offering a 20% discount for tickets to\n                      visit {d.title}.\n                    </p>\n                  )}\n                  <p className=\"text--help\">Last updated: {d.updated_at}</p>\n                </div>\n                {d.has_discount && <div className=\"sale-badge\">Flash Sale</div>}\n              </div>\n            ))}\n          </div>\n        ) : null}\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}